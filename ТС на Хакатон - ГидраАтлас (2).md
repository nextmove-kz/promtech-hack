**ТЕХНИЧЕСКАЯ СПЕЦИФИКАЦИЯ**

GidroAtlas — это платформа, которая использует интерактивную карту и элементы искусственного интеллекта, чтобы показывать состояние водных ресурсов и гидротехнических сооружений Казахстана. Система помогает быстро находить нужные объекты, изучать их характеристики и определять, какие сооружения требуют обследования в первую очередь.

1. **Цель проекта**

MVP создаётся специально для того что бы посмотреть как пойдет процесс завличения заказчика. Его основная цель — дать пользователю простую карту, на которой отображаются водоёмы и гидротехнические сооружения. Система должна позволять искать объекты, смотреть их характеристики и показывать уровень их технического состояния. Кроме этого, в MVP входит простая модель приоритезации — она помогает определить, какие объекты важнее обследовать.

2. **Основной функционал это карта**  
     
   **Карта**

В центре всего — интерактивная карта Казахстана. На ней отображаются два типа данных: водные ресурсы (озёра, каналы, водохранилища) и гидротехнические сооружения. Данные можно переключать слоями.  
Для сооружений применяется цветовая маркировка: от зелёного до красного, где цвет соответствует техническому состоянию (от 1 до 5). При наведении пользователь видит краткую информацию: название и область. При клике — открывается карточка объекта.

| Категория 1 | Зеленый |
| :---- | :---- |
| Категория 2 | Салатовый |
| Категория 3 | Желтый |
| Категория 4 | Оранжевый |
| Категория 5 | Красный |

Карточка объекта  
Карточка содержит основную информацию об объекте:  
  Название  
  Область  
  Тип водного ресурса *(enum: озеро/канал/водохранилище)*  
  Тип воды *(enum: пресная / непресная)*  
  Наличие фауны *(да/нет)*  
  Дата паспорта  
  Техническое состояние *(1–5)*  
  Координаты *(широта/долгота)*  
  Кнопка: **«Открыть паспорт»**

* может быть PDF  
* либо модальное заглушка, если нет реальных данных

(Если паспорт доступен — его можно открыть в PDF или через модальное окно.)

3. **Поиск фильтрация сортировка**

**Фильтрация**  
Панель фильтров должна содержать:

* **Область** (select)

* **Тип водного ресурса** (озеро/канал/водохранилище)

* **Тип воды** (пресная/непресная)

* **Наличие фауны**: да/нет

* **Дата паспорта** — диапазон

* **Категория состояния (1–5)**

Фильтры влияют:

* на отображение объектов на карте  
* на таблицу приоритизации


**С**ортировка  
Сортировка применяется как в таблице приоритизации, так и при работе со списками объектов.

Доступные поля для сортировки:

* Название

* Область

* Тип ресурса

* Тип воды

* Наличие фауны

* Дата паспорта

* Категория состояния

* Приоритет обследования

**Варианты сортировки:**

* по возрастанию / убыванию;  
* по категории — от 1 к 5 или наоборот;  
* по дате паспорта — от новых к старым;  
* по приоритету — высокий → низкий.

Если сортировку не делает бэк — фронт обязан сортировать локально.

**Поиск**

* поиск по названию объекта;  
* поиск по тегам/метаданным (если присутствуют в данных).

Результат поиска:

* подсвечивает объект на карте;  
* открывает карточку.  
    
    
    
    
    
    
    
4. **П**риоритезация объектов

В систему должна быть заложена простая модель расчёта приоритета обследования.  
При необходимости команды могут заменить формулу своей (что бы можно было изменить при необходимости).  
PriorityScore \= (6 \- состояние) \* 3 \+ возраст паспорта в годах  
Логика:

* чем хуже состояние (5) → тем выше приоритет  
* чем старее паспорт → тем выше приоритет

**Классификация:**

* ≥ 12 → Высокий  
* 6–11 → Средний  
* \< 6 → Низкий

(Отдельно можно подключить простую ML-модель — например, логистическую регрессию — и показывать вероятность того, что объект требует внимания.)

5. **Авторизация**

В MVP достаточно двух ролей:  
  **Гость**

* Доступ: только просмотр карты и объектов.  
* Не видит приоритеты и таблицы.  
* Нет возможности редактировать данные.

  **Эксперт**

* Доступ ко всем данным: состояние объектов, приоритеты, таблицы.  
* Может открывать паспорта объектов.  
* Может использовать поиск и фильтры в полном объёме.

Авторизацию можно сделать очень простой — логин/пароль, localStorage, мок-юзер.  
API:

* POST /login — принимает логин и пароль, возвращает токен с ролью.  
* POST /logout — удаляет токен, закрывает сессию.

Токен используется на фронте для определения прав пользователя. Если пользователь не авторизован — фронт работает в режиме гостя.

6. **База данных**

**Требования:**  
Разработчик может использовать любую СУБД: PostgreSQL, MySQL, MongoDB и т.д.  
Должна поддерживать:

* Хранение и фильтрацию объектов  
* Поиск и сортировку по полям  
* Хранение PDF-файлов или ссылок на них  
* Возможность расширения данных и добавления новых объектов


Сущность «Пользователь»

| Поле | Тип | Описание |
| ----- | ----- | ----- |
| id | int/uuid | Уникальный идентификатор |
| login | string | Логин |
| password\_hash | string | Хэш пароля |
| role | enum | Роль: guest / expert |

Сущность «Объект водного ресурса»

| Поле | Тип | Описание |
| ----- | ----- | ----- |
| id | int/uuid | Уникальный идентификатор |
| name | string | Название объекта |
| region | string | Область/регион |
| resource\_type | enum | Тип водного ресурса: озеро, канал, водохранилище |
| water\_type | enum | Тип воды: пресная/непресная |
| fauna | boolean | Есть ли фауна (да/нет) |
| passport\_date | date | Дата паспорта объекта |
| technical\_condition | int | Техническое состояние (1–5) |
| latitude | float | Широта |
| longitude | float | Долгота |
| pdf\_url | string | Ссылка на PDF паспорта |
| priority | int | Рассчитанный приоритет (может рассчитываться на бэке или фронте) |

7. ## **API и интеграции**

**Основное API:**

* Получение списка объектов с фильтрацией  
* Получение информации по объекту (карточка, PDF)  
* Авторизация пользователей  
* Получение приоритета объекта

**Требования к API:**

* JSON формат  
* Поддержка пагинации и сортировки  
* Локальная сортировка на фронте, если бэк не поддерживает

**Ожидаемый результат от участников.** К концу хакатона команда должна предоставить:

* Рабочее веб\-приложение с картой.  
* Возможность фильтрации и поиска.  
* Карточки объектов.  
* Цветовую индикацию состояния.  
* Рабочий дашборд приоритезации.